---
title: 虚拟机网络介绍
date: 2021-12-19 17:30:17
tags: VMWare
cover: /img/linux/vmware_network_cover.jpg
categories: Linux
description: Workstation Pro 中的虚拟网络连接组件包括虚拟交换机、虚拟网络适配器、虚拟 DHCP 服务器和 NAT 设备。
---

Workstation Pro 中的虚拟网络连接组件包括虚拟交换机、虚拟网络适配器、虚拟 DHCP 服务器和 NAT 设备。

### 虚拟交换机

与物理交换机相似，虚拟交换机也能将网络连接组件连接在一起。虚拟交换机又称为虚拟网络，其名称为 VMnet0、VMnet1、VMnet2，以此类推。有少量虚拟交换机会默认映射到特定网络。

安装好VMware Workstation后，会在物理机中模拟出两个虚拟网卡。

![img](/img/linux/vmware_1.webp)

### 默认虚拟网络交换机

| 网络类型   | 交换机名称 |
| ---------- | ---------- |
| 桥接模式   | VMnet0     |
| NAT        | VMnet8     |
| 仅主机模式 | VMnet1     |

### 桥接模式(bridged)

在这种模式下，使用VMnet0虚拟交换机，虚拟操作系统就像是局域网中的一台独立的主机，与宿主计算机一样，它可以访问网内任何一台机器。在桥接模式下，可以手工配置它的TCP/IP配置信息（IP、子网掩码等，而且还要和宿主机器处于同一网段），以实现通过局域网的网关或路由器访问互联网；还可以将IP地址和DNS设置成“自动获取”。

如果你想利用VMWare在局域网内新建一个服务器，为局域网用户提供Web或网络服务，就应该选择桥接模式。

在桥接模式中，使用VMnet0虚拟交换机，此时虚拟机相当与网络上的一台独立计算机与主机一样，拥有一个独立的IP地址。

![img](/img/linux/vmware_2.webp)

### 网络地址转换模式(NAT)

使用NAT模式，就是让虚拟机借助NAT（网络地址转换）功能，通过宿主机器所在的网络来访问公网。也就是说，使用NAT模式可以实现在虚拟系统里访问互联网。NAT模式下的虚拟机的TCP/IP配置信息是由VMnet8虚拟网络的DHCP服务器提供的，因此IP和DNS一般设置为“自动获取”，因此虚拟系统也就无法和本局域网中的其他真实主机进行通讯。

采用NAT模式最大的优势是虚拟系统接入互联网非常简单，你不需要进行任何其他的配置，只需要宿主机器能访问互联网即可。如果你想利用VMWare安装一个新的虚拟系统，在虚拟系统中不用进行任何手工配置就能直接访问互联网，建议你采用NAT模式。

NAT模式中，此时虚拟机可以通过主机“单向访问”网络上的其他主机，其他主机不能访问虚拟机。在NAT模式中：

![img](/img/linux/vmware_3.webp)
